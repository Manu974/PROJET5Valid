{# src/NAO/FaqBundle/Resources/views/Faq/index.html.twig #}

{% block body %}
    {% if is_granted('ROLE_NATURALISTE') %}
        <h2><a href="{{ path('nao_admin_faq') }}">Administration</a></h2>
    {% endif %}
    {% for faq in faqs %}
        <article>
            <header>
                <h2>{{ faq.title }}</h2>
            </header>
            <div>
                <p>{{ faq.faq|raw }}</p>
            </div>
            <footer>
                <p>Question publiée par <span class="highlight">{{faq.author}}</span> le {{ faq.created|date('d-m-Y') }} à {{ faq.created|date('H:i:s') }}</p>
            </footer>
        </article>
    {% else %}
        <p class="text-center">Aucune question publiée sur la Faq pour le moment</p>
    {% endfor %}
    {% if nbPages > 1  %}
        <div class="text-center">
            <ul class="pagination">
                {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
                {% for p in range(1, nbPages) %}
                    <li{% if p == page %} class="active"{% endif %}>
                        <a class='idx_page' href="{{ path('nao_faq_homepage', {'page': p}) }}">{{ p }}</a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
{% endblock %}